{% extends "AssoMakerBaseBundle::layout.html.twig"  %}
{% set pageTitle = 'Effectuer un virement' %}

{% block content %}

<script>
function Ctrl($scope) {
	  $scope.montant='5';
	  $scope.solde={{ soldeCP }};
	}
</script>

<form class="form-horizontal" action="{{ path('comptesPerso_virement') }}" method="post" {{ form_enctype(form) }} ng-controller="Ctrl">
	<div class="row-fluid">
		<h2>Effectuer un virement</h2>
		

            {{ form_label(form.destinataire) }}
            {{ form_errors(form.destinataire) }}
		    {{ form_widget(form.destinataire) }}
			{{ form_label(form.montant) }}
			{{ form_errors(form.montant) }}
			{{ form_widget(form.montant, { 'attr': {'ng-model': 'montant'} }) }}
			{{ form_row(form.raison) }}
			{{ form_errors(form.raison) }}
			{% raw %}
			    <p>Nouveau solde : {{ {true:solde-montant, false:'ERREUR'}[montant>=0]  }}</p>
			{% endraw %}
	</div>	
	<div class="form-actions" >
              	    <div class="btn-toolbar">
              	       
	         			<button class="btn" ng:class="{true:'btn-success', false:'btn-danger disabled'}[montant>=0]" type="submit">
	         			    {% raw %}Confirmer un virement de {{montant}}â‚¬ {% endraw %}
	         			</button>
	         								
					</div>
              </div>
            </div>

	

	</div>
	{% if form.confirm is defined %}
	{{ form_widget(form.confirm) }}
	{% endif %}
	{{ form_widget(form._token) }}
</form>
{% endblock %}

{% block actions %}
{% endblock %}


